---
import Layout from '../layouts/Layout.astro';

// Skills data with icons - Matches CV
const skills = {
  frontend: [
    { name: 'Angular', icon: 'üÖ∞Ô∏è' },
    { name: 'React', icon: '‚öõÔ∏è' },
    { name: 'Next.js', icon: '‚ñ≤' },
    { name: 'TailwindCSS', icon: 'ÔøΩ' },
    { name: 'Bootstrap', icon: 'üÖ±Ô∏è' },
    { name: 'TypeScript', icon: '‚ö°' },
  ],
  backend: [
    { name: 'Node.js', icon: 'üü¢' },
    { name: 'NestJS', icon: 'üîª' },
    { name: 'Express.js', icon: '‚ö°' },
    { name: 'PHP/Laravel', icon: 'üêò' },
  ],
  database: [
    { name: 'PostgreSQL', icon: 'üêò' },
    { name: 'MySQL', icon: 'üê¨' },
    { name: 'MongoDB', icon: 'üçÉ' },
    { name: 'Redis', icon: 'üî¥' },
    { name: 'Supabase', icon: '‚ö°' },
    { name: 'Prisma', icon: 'ÔøΩ' },
  ],
  cloud: [
    { name: 'Docker', icon: 'üê≥' },
    { name: 'GCP', icon: '‚òÅÔ∏è' },
  ],
  ai: [
    { name: 'OpenAI API', icon: 'ü§ñ' },
    { name: 'Prompt Engineering', icon: '‚úçÔ∏è' },
    { name: 'LLMs', icon: 'üß†' },
  ]
};

const socialLinks = [
  { 
    name: 'Email', 
    href: 'mailto:fransayago04@gmail.com', 
    label: 'fransayago04@gmail.com',
    icon: 'email'
  },
  { 
    name: 'WhatsApp', 
    href: 'https://wa.me/543534060236', 
    label: '+54 353 4060236',
    icon: 'phone'
  },
  { 
    name: 'LinkedIn', 
    href: 'https://linkedin.com/in/francisco-sayago', 
    label: 'francisco-sayago',
    icon: 'linkedin'
  },
  { 
    name: 'GitHub', 
    href: 'https://github.com/Fransaya', 
    label: 'Fransaya',
    icon: 'github'
  }
];

// Projects data with detailed information for modals
const projects = [
  {
    id: 'pedilo',
    title: 'Pedilo',
    subtitle: 'SaaS Multi-tenant Platform',
    role: 'Lead Full Stack Developer & Architect',
    type: 'thesis',
    featured: true,
    tags: [
      { label: 'Multi-tenant', color: 'neural' },
      { label: 'SaaS', color: 'accent' },
      { label: 'Real-time', color: 'violet' }
    ],
    techStack: ['Next.js', 'NestJS', 'PostgreSQL', 'Redis', 'Docker', 'Mercado Pago API', 'WhatsApp API'],
    description: {
      es: 'Sistema SaaS multi-tenant que permite a comercios crear men√∫s digitales personalizados, gestionar pedidos en tiempo real e integrar cobros autom√°ticos sin intermediarios.',
      en: 'Multi-tenant SaaS system enabling businesses to create custom digital menus, manage real-time orders, and integrate automatic payments without intermediaries.'
    },
    challenges: [
      {
        title: { es: 'Aislamiento de Datos (Multi-tenancy)', en: 'Data Isolation (Multi-tenancy)' },
        solution: { es: 'Implement√© Row Level Security (RLS) en PostgreSQL para garantizar que cada negocio solo acceda a su propia informaci√≥n.', en: 'Implemented Row Level Security (RLS) in PostgreSQL ensuring each business only accesses its own data.' }
      },
      {
        title: { es: 'Integraci√≥n de Pagos Distribuida', en: 'Distributed Payment Integration' },
        solution: { es: 'Desarroll√© un flujo OAuth2 para que cada comercio vincule su cuenta de Mercado Pago, recibiendo el dinero directamente.', en: 'Developed OAuth2 flow for each merchant to link their Mercado Pago account, receiving money directly.' }
      },
      {
        title: { es: 'Comunicaci√≥n Omnicanal', en: 'Omnichannel Communication' },
        solution: { es: 'Implement√© un motor de notificaciones con Webhooks y WhatsApp Business API para informar autom√°ticamente sobre pedidos.', en: 'Implemented notification engine with Webhooks and WhatsApp Business API for automatic order updates.' }
      },
      {
        title: { es: 'Arquitectura Escalable', en: 'Scalable Architecture' },
        solution: { es: 'Dise√±√© un sistema BFF (Backend For Frontend) con NestJS, separando l√≥gica del admin y del carrito p√∫blico.', en: 'Designed BFF (Backend For Frontend) system with NestJS, separating admin and public cart logic.' }
      }
    ],
    metrics: [
      { value: 'RLS', label: { es: 'Seguridad', en: 'Security' } },
      { value: 'OAuth2', label: { es: 'Pagos', en: 'Payments' } },
      { value: 'BFF', label: { es: 'Arquitectura', en: 'Architecture' } }
    ],
    icon: 'üõí'
  },
  {
    id: 'ecommerce',
    title: 'E-commerce AI',
    subtitle: 'High-Performance & AI Content Generator',
    role: 'Full Stack Developer & AI Consultant',
    type: 'commercial',
    featured: true,
    tags: [
      { label: 'Serverless', color: 'accent' },
      { label: 'AI Integration', color: 'neural' },
      { label: 'E-commerce', color: 'violet' }
    ],
    techStack: ['Next.js', 'TailwindCSS', 'Supabase', 'OpenAI API', 'PostgreSQL'],
    description: {
      es: 'Plataforma de comercio electr√≥nico a medida para una marca de indumentaria, enfocada en velocidad de carga y automatizaci√≥n de marketing con IA.',
      en: 'Custom e-commerce platform for a clothing brand, focused on loading speed and AI-powered marketing automation.'
    },
    challenges: [
      {
        title: { es: 'Arquitectura Serverless', en: 'Serverless Architecture' },
        solution: { es: 'Implement√© Supabase para autenticaci√≥n, base de datos en tiempo real y almacenamiento de assets.', en: 'Implemented Supabase for authentication, real-time database, and asset storage.' }
      },
      {
        title: { es: 'Renderizado Optimizado', en: 'Optimized Rendering' },
        solution: { es: 'Utilic√© Next.js con renderizado h√≠brido para tiempos de carga m√≠nimos y SEO optimizado.', en: 'Used Next.js with hybrid rendering for minimal load times and optimized SEO.' }
      },
      {
        title: { es: 'Automatizaci√≥n con IA', en: 'AI Automation' },
        solution: { es: 'Integr√© m√≥dulo con OpenAI API que genera descripciones de productos y contenido para redes sociales.', en: 'Integrated OpenAI API module that generates product descriptions and social media content.' }
      }
    ],
    metrics: [
      { value: '-30%', label: { es: 'Tiempo Operativo', en: 'Operational Time' } },
      { value: 'NLP', label: { es: 'Procesamiento', en: 'Processing' } },
      { value: 'SSR', label: { es: 'Renderizado', en: 'Rendering' } }
    ],
    icon: 'üõçÔ∏è'
  },
  {
    id: 'legacy',
    title: 'Legacy Modernization',
    subtitle: 'Critical Systems Migration',
    role: 'Full Stack Developer @ Maser Inform√°tica',
    type: 'enterprise',
    featured: false,
    tags: [
      { label: 'Migration', color: 'neural' },
      { label: 'Scalability', color: 'accent' },
      { label: 'Enterprise', color: 'violet' }
    ],
    techStack: ['Angular', 'Node.js', 'PHP', 'SQL Server', 'REST APIs'],
    description: {
      es: 'Lider√© la migraci√≥n de aplicaciones monol√≠ticas de Angular v9 a v16, estabilizando el sistema para soportar picos de +3,000 solicitudes por hora.',
      en: 'Led migration of monolithic applications from Angular v9 to v16, stabilizing the system to handle peaks of +3,000 requests per hour.'
    },
    challenges: [
      {
        title: { es: 'Migraci√≥n Angular', en: 'Angular Migration' },
        solution: { es: 'Migraci√≥n estrat√©gica de v9 a v16 reduciendo la deuda t√©cnica y mejorando la mantenibilidad.', en: 'Strategic migration from v9 to v16 reducing technical debt and improving maintainability.' }
      },
      {
        title: { es: 'Refactorizaci√≥n Backend', en: 'Backend Refactoring' },
        solution: { es: 'Refactoric√© endpoints en Node.js y PHP bajo principios SOLID.', en: 'Refactored endpoints in Node.js and PHP following SOLID principles.' }
      }
    ],
    metrics: [
      { value: '+3K', label: { es: 'Req/hora', en: 'Req/hour' } },
      { value: 'v9‚Üív16', label: { es: 'Angular', en: 'Angular' } },
      { value: 'SOLID', label: { es: 'Principios', en: 'Principles' } }
    ],
    icon: 'üîÑ'
  },
  {
    id: 'ai-agent',
    title: 'AI Automation Agent',
    subtitle: 'Intelligent Management & Content Automation',
    role: 'AI Consultant @ Sayasoft',
    type: 'lab',
    featured: false,
    tags: [
      { label: 'LLM Integration', color: 'neural' },
      { label: 'NLP', color: 'accent' },
      { label: 'Automation', color: 'violet' }
    ],
    techStack: ['Next.js', 'OpenAI API', 'Supabase', 'TailwindCSS'],
    description: {
      es: 'Agente basado en LLMs que automatiza el registro de gastos y la creaci√≥n de contenido para redes sociales.',
      en: 'LLM-based agent that automates expense tracking and social media content creation.'
    },
    challenges: [
      {
        title: { es: 'Prompt Engineering', en: 'Prompt Engineering' },
        solution: { es: 'Dise√±√© prompts optimizados para procesamiento de lenguaje natural integrado a un backend robusto.', en: 'Designed optimized prompts for NLP integrated with a robust backend.' }
      },
      {
        title: { es: 'Automatizaci√≥n Inteligente', en: 'Intelligent Automation' },
        solution: { es: 'Implement√© flujos automatizados que reducen tiempos operativos en un 30%.', en: 'Implemented automated workflows reducing operational times by 30%.' }
      }
    ],
    metrics: [
      { value: '-30%', label: { es: 'Tiempo', en: 'Time' } },
      { value: 'GPT-4', label: { es: 'Modelo', en: 'Model' } },
      { value: 'NLP', label: { es: 'Tecnolog√≠a', en: 'Technology' } }
    ],
    icon: 'ü§ñ'
  }
];
---

<Layout title="Fran Sayago | Neural Architect">
  <!-- Alpine.js State Management -->
  <div x-data="portfolio" x-cloak>
    <!-- ============================================
         üß≠ NAVIGATION
         ============================================ -->
    <nav class="fixed w-full z-nav px-6 lg:px-12 py-4">
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <!-- Logo -->
        <a href="#hero" class="group flex items-center gap-2">
          <div class="relative w-10 h-10 flex items-center justify-center">
            <div class="absolute inset-0 bg-neural rounded-lg opacity-20 group-hover:opacity-40 transition-opacity"></div>
            <span class="relative font-bold text-neural text-lg">FS</span>
          </div>
          <span class="hidden sm:block font-mono text-xs text-muted uppercase tracking-wider">
            <span class="text-neural">&lt;</span>Fran Sayago<span class="text-neural">/&gt;</span>
          </span>
        </a>
        
        <!-- Desktop Navigation -->
        <div class="hidden lg:flex items-center gap-12">
          <div class="flex gap-8">
            <a 
              href="#about" 
              class="nav-link" 
              :class="{ 'active': activeSection === 'about' }"
              x-text="t('nav.about')"
            ></a>
            <a 
              href="#experience" 
              class="nav-link" 
              :class="{ 'active': activeSection === 'experience' }"
              x-text="t('nav.exp')"
            ></a>
            <a 
              href="#projects" 
              class="nav-link" 
              :class="{ 'active': activeSection === 'projects' }"
              x-text="t('nav.projects')"
            ></a>
            <a 
              href="#skills" 
              class="nav-link" 
              :class="{ 'active': activeSection === 'skills' }"
              x-text="t('nav.skills')"
            ></a>
            <a 
              href="#contact" 
              class="nav-link" 
              :class="{ 'active': activeSection === 'contact' }"
              x-text="t('nav.contact')"
            ></a>
          </div>
          
          <!-- Language Toggle -->
          <button 
            @click="lang = lang === 'es' ? 'en' : 'es'" 
            class="relative px-3 py-1.5 border border-neural/30 rounded-full font-mono text-xs hover:bg-neural/10 transition-all overflow-hidden group"
            aria-label="Toggle language"
          >
            <span class="relative z-10" x-text="lang === 'es' ? 'EN' : 'ES'"></span>
          </button>
        </div>
        
        <!-- Mobile Menu Button -->
        <button 
          @click="menuOpen = !menuOpen"
          class="lg:hidden relative w-10 h-10 flex flex-col items-center justify-center gap-1.5"
          :aria-expanded="menuOpen"
          aria-label="Toggle menu"
        >
          <span 
            class="w-6 h-0.5 bg-white transition-all duration-300"
            :class="{ 'rotate-45 translate-y-2': menuOpen }"
          ></span>
          <span 
            class="w-6 h-0.5 bg-white transition-all duration-300"
            :class="{ 'opacity-0': menuOpen }"
          ></span>
          <span 
            class="w-6 h-0.5 bg-white transition-all duration-300"
            :class="{ '-rotate-45 -translate-y-2': menuOpen }"
          ></span>
        </button>
      </div>
      
      <!-- Mobile Menu -->
      <div 
        class="lg:hidden absolute top-full left-0 w-full glass-card border-t border-white/10 overflow-hidden transition-all duration-500"
        :class="{ 'max-h-0 opacity-0': !menuOpen, 'max-h-96 opacity-100': menuOpen }"
      >
        <div class="flex flex-col p-6 gap-4">
          <a 
            @click="menuOpen = false"
            href="#about" 
            class="nav-link py-2"
            x-text="t('nav.about')"
          ></a>
          <a 
            @click="menuOpen = false"
            href="#experience" 
            class="nav-link py-2"
            x-text="t('nav.exp')"
          ></a>
          <a 
            @click="menuOpen = false"
            href="#projects" 
            class="nav-link py-2"
            x-text="t('nav.projects')"
          ></a>
          <a 
            @click="menuOpen = false"
            href="#skills" 
            class="nav-link py-2"
            x-text="t('nav.skills')"
          ></a>
          <a 
            @click="menuOpen = false"
            href="#contact" 
            class="nav-link py-2"
            x-text="t('nav.contact')"
          ></a>
          <div class="pt-4 border-t border-white/10">
            <button 
              @click="lang = lang === 'es' ? 'en' : 'es'" 
              class="px-4 py-2 border border-neural/30 rounded font-mono text-sm"
            >
              <span x-text="lang === 'es' ? 'Switch to English' : 'Cambiar a Espa√±ol'"></span>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- ============================================
         üåü HERO SECTION
         ============================================ -->
    <section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden">
      <!-- 3D Canvas Background -->
      <canvas id="hero-canvas" class="absolute inset-0 z-0"></canvas>
      
      <!-- Floating Orbs -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none z-1" aria-hidden="true">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-neural/20 rounded-full blur-[120px] floating"></div>
        <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent/15 rounded-full blur-[100px] floating" style="animation-delay: -2s;"></div>
        <div class="absolute top-1/2 right-1/3 w-64 h-64 bg-violet/10 rounded-full blur-[80px] floating" style="animation-delay: -4s;"></div>
      </div>
      
      <!-- Hero Content -->
      <div class="relative z-10 text-center px-6 max-w-5xl mx-auto">
        <!-- Greeting -->
        <p class="font-mono text-neural text-sm uppercase tracking-[0.3em] mb-6 reveal">
          <span x-text="t('hero.greeting')"></span>
        </p>
        
        <!-- Name with Split Animation -->
        <h1 class="hero-title text-display text-6xl sm:text-7xl md:text-8xl lg:text-9xl mb-8 reveal stagger-1">
          <span class="inline-block">Fran</span>
          <span class="inline-block text-gradient gradient-aurora gradient-animate">Sayago</span>
        </h1>
        
        <!-- Role -->
        <p 
          class="text-xl md:text-2xl lg:text-3xl font-light text-muted max-w-2xl mx-auto mb-12 reveal stagger-2"
          x-text="t('hero.role')"
        ></p>
        
        <!-- CTA Buttons -->
        <div class="flex flex-wrap justify-center gap-4 reveal stagger-3">
          <a href="#contact" class="magnetic-btn magnetic-btn-fill rounded-full">
            <span x-text="t('hero.cta1')"></span>
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a href="#experience" class="magnetic-btn rounded-full">
            <span x-text="t('hero.cta2')"></span>
          </a>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="scroll-indicator reveal stagger-4">
        <div class="scroll-indicator-mouse">
          <div class="scroll-indicator-wheel"></div>
        </div>
        <span x-text="t('hero.scroll')"></span>
      </div>
    </section>

    <!-- ============================================
         üë§ ABOUT SECTION
         ============================================ -->
    <section id="about" class="section py-32 lg:py-40">
      <div class="container">
        <div class="grid lg:grid-cols-2 gap-16 lg:gap-24 items-center">
          <!-- Left: Content -->
          <div class="space-y-8">
            <div class="reveal">
              <p class="section-subtitle" x-text="t('about.subtitle')"></p>
              <h2 class="section-title" x-text="t('about.title')"></h2>
            </div>
            
            <!-- Main description -->
            <div class="reveal stagger-1">
              <p class="text-xl text-muted leading-relaxed" x-text="t('about.intro')"></p>
            </div>
            
            <!-- High Impact Points -->
            <div class="space-y-4 reveal stagger-2">
              <!-- Experience -->
              <div class="glass-card p-5 rounded-2xl flex items-start gap-4 group hover:border-neural/40 transition-all duration-300">
                <div class="w-12 h-12 bg-neural/20 rounded-xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
                  <span class="text-2xl">‚ö°</span>
                </div>
                <div>
                  <h4 class="font-bold text-neural mb-1" x-text="t('about.point1.title')"></h4>
                  <p class="text-sm text-muted" x-text="t('about.point1.desc')"></p>
                </div>
              </div>
              
              <!-- Current Focus -->
              <div class="glass-card p-5 rounded-2xl flex items-start gap-4 group hover:border-accent/40 transition-all duration-300">
                <div class="w-12 h-12 bg-accent/20 rounded-xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
                  <span class="text-2xl">üéØ</span>
                </div>
                <div>
                  <h4 class="font-bold text-accent mb-1" x-text="t('about.point2.title')"></h4>
                  <p class="text-sm text-muted" x-text="t('about.point2.desc')"></p>
                </div>
              </div>
              
              <!-- Mission -->
              <div class="glass-card p-5 rounded-2xl flex items-start gap-4 group hover:border-violet/40 transition-all duration-300">
                <div class="w-12 h-12 bg-violet/20 rounded-xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
                  <span class="text-2xl">üöÄ</span>
                </div>
                <div>
                  <h4 class="font-bold text-violet mb-1" x-text="t('about.point3.title')"></h4>
                  <p class="text-sm text-muted" x-text="t('about.point3.desc')"></p>
                </div>
              </div>
            </div>
            
            <!-- Stats Grid -->
            <div class="grid grid-cols-3 gap-4 reveal stagger-3">
              <div class="glass-card p-6 rounded-2xl text-center">
                <span class="block text-3xl lg:text-4xl font-bold text-neural text-glow mb-2" x-text="t('about.stat1.value')"></span>
                <span class="text-xs font-mono uppercase text-muted tracking-wider" x-text="t('about.stat1.label')"></span>
              </div>
              <div class="glass-card p-6 rounded-2xl text-center">
                <span class="block text-3xl lg:text-4xl font-bold text-neural text-glow mb-2" x-text="t('about.stat2.value')"></span>
                <span class="text-xs font-mono uppercase text-muted tracking-wider" x-text="t('about.stat2.label')"></span>
              </div>
              <div class="glass-card p-6 rounded-2xl text-center">
                <span class="block text-3xl lg:text-4xl font-bold text-neural text-glow mb-2" x-text="t('about.stat3.value')"></span>
                <span class="text-xs font-mono uppercase text-muted tracking-wider" x-text="t('about.stat3.label')"></span>
              </div>
            </div>
          </div>
          
          <!-- Right: Visual -->
          <div class="relative reveal-scale stagger-3">
            <!-- Avatar Container -->
            <div class="relative glass-card glass-card-glow p-12 rounded-[3rem] text-center">
              <!-- Decorative rings -->
              <div class="absolute inset-0 rounded-[3rem] border border-neural/10 animate-pulse"></div>
              
              <!-- Avatar with Profile Photo -->
              <div class="relative mx-auto w-44 h-44 mb-8 group">
                <!-- Animated glow background -->
                <div class="absolute inset-0 bg-gradient-to-br from-neural to-accent rounded-full opacity-30 blur-xl group-hover:opacity-50 transition-opacity duration-500"></div>
                <!-- Rotating border gradient -->
                <div class="absolute inset-0 rounded-full bg-gradient-to-r from-neural via-accent to-neural p-1 animate-spin-slow">
                  <div class="w-full h-full bg-dark rounded-full"></div>
                </div>
                <!-- Profile image container -->
                <div class="absolute inset-1 rounded-full overflow-hidden border-2 border-neural/30 group-hover:border-neural/60 transition-all duration-500">
                  <img 
                    src="/profile.png" 
                    alt="Francisco E. Sayago - Full Stack Developer" 
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                    loading="eager"
                  />
                </div>
                <!-- Status indicator -->
                <div class="absolute bottom-2 right-2 w-6 h-6 bg-neural rounded-full border-4 border-dark pulse-glow z-10"></div>
              </div>
              
              <h3 class="text-2xl font-bold mb-2">Francisco E. Sayago</h3>
              <p class="font-mono text-neural text-sm uppercase tracking-wider" x-text="t('about.location')"></p>
              
              <!-- Tech Icons -->
              <div class="flex justify-center gap-3 mt-6">
                <div class="w-10 h-10 bg-dark-surface rounded-lg flex items-center justify-center" title="TypeScript">‚ö°</div>
                <div class="w-10 h-10 bg-dark-surface rounded-lg flex items-center justify-center" title="React">‚öõÔ∏è</div>
                <div class="w-10 h-10 bg-dark-surface rounded-lg flex items-center justify-center" title="Node.js">üü¢</div>
                <div class="w-10 h-10 bg-dark-surface rounded-lg flex items-center justify-center" title="AI">ü§ñ</div>
              </div>
            </div>
            
            <!-- Floating badges -->
            <div class="absolute -top-4 -left-4 glass-card px-4 py-2 rounded-full font-mono text-xs floating" style="animation-delay: -1s;">
              <span class="text-neural">‚óè</span> Available for hire
            </div>
            <div class="absolute -bottom-4 -right-4 glass-card px-4 py-2 rounded-full font-mono text-xs floating" style="animation-delay: -3s;">
              <span class="text-accent">‚óè</span> Remote friendly
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================
         üíº EXPERIENCE SECTION
         ============================================ -->
    <section id="experience" class="section py-32 lg:py-40 bg-dark-elevated/50">
      <div class="container max-w-4xl">
        <!-- Section Header -->
        <div class="text-center mb-20 reveal">
          <p class="section-subtitle" x-text="t('exp.subtitle')"></p>
          <h2 class="section-title" x-text="t('exp.title')"></h2>
        </div>
        
        <!-- Timeline -->
        <div class="relative">
          <!-- Timeline line -->
          <div class="absolute left-0 md:left-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-neural via-neural/50 to-transparent"></div>
          
          <!-- Experience Items -->
          <template x-for="(role, index) in t('exp.roles')" :key="index">
            <div 
              class="relative mb-16 last:mb-0"
              :class="{ 'md:text-right md:pr-12': index % 2 === 0, 'md:ml-auto md:pl-12': index % 2 === 1 }"
            >
              <!-- Timeline dot -->
              <div 
                class="absolute left-0 md:left-1/2 top-0 w-4 h-4 rounded-full border-2 border-neural -translate-x-1/2 z-10"
                :class="{ 'bg-neural glow-neural': role.current, 'bg-dark': !role.current }"
              ></div>
              
              <!-- Content Card -->
              <div 
                class="glass-card p-8 rounded-2xl ml-8 md:ml-0 reveal"
                :class="{ 'md:mr-8': index % 2 === 0, 'md:ml-8': index % 2 === 1 }"
                style="max-width: 32rem;"
              >
                <!-- Status badge -->
                <template x-if="role.current">
                  <span class="inline-block px-3 py-1 bg-neural/20 text-neural text-xs font-mono uppercase rounded-full mb-4">
                    Current
                  </span>
                </template>
                
                <h3 class="text-xl font-bold text-neural mb-1" x-text="role.title"></h3>
                <p class="font-semibold mb-1" x-text="role.company"></p>
                <p class="font-mono text-xs text-muted uppercase tracking-wider mb-6" x-text="role.period"></p>
                
                <ul class="space-y-3 text-left">
                  <template x-for="(achievement, i) in role.achievements" :key="i">
                    <li class="flex items-start gap-3 text-sm text-muted">
                      <span class="text-neural mt-1 shrink-0">‚ñπ</span>
                      <span x-text="achievement"></span>
                    </li>
                  </template>
                </ul>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- ============================================
         ÔøΩ PROJECTS SECTION
         ============================================ -->
    <section id="projects" class="section py-32 lg:py-40">
      <div class="container">
        <!-- Section Header -->
        <div class="text-center mb-20 reveal">
          <p class="section-subtitle" x-text="t('projects.subtitle')"></p>
          <h2 class="section-title" x-text="t('projects.title')"></h2>
          <p class="text-lg text-muted mt-6 max-w-2xl mx-auto" x-text="t('projects.description')"></p>
        </div>
        
        <!-- Featured Projects Grid -->
        <div class="grid lg:grid-cols-2 gap-8 mb-12">
          {projects.filter(p => p.featured).map((project, i) => (
            <div 
              class={`project-card reveal stagger-${i + 1}`}
              x-data={`{ hover: false }`}
              @mouseenter="hover = true"
              @mouseleave="hover = false"
            >
              <div class="glass-card glass-card-glow p-8 rounded-3xl h-full relative overflow-hidden group cursor-pointer transition-all duration-700 hover:scale-[1.02]"
                @click={`$dispatch('open-modal', { projectId: '${project.id}' })`}
              >
                <!-- Animated background gradient -->
                <div class="absolute inset-0 bg-gradient-to-br from-neural/5 via-transparent to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
                
                <!-- Featured badge -->
                <div class="absolute top-4 right-4">
                  <span class="inline-flex items-center gap-1 px-3 py-1 bg-neural/20 text-neural text-xs font-mono uppercase rounded-full">
                    <span class="w-1.5 h-1.5 bg-neural rounded-full animate-pulse"></span>
                    {project.type === 'thesis' ? 'Thesis Project' : 'Featured'}
                  </span>
                </div>
                
                <!-- Icon with glow effect -->
                <div class="relative mb-6">
                  <div class="w-16 h-16 bg-dark-surface rounded-2xl flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-500 relative z-10">
                    {project.icon}
                  </div>
                  <div class="absolute inset-0 bg-neural/30 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                </div>
                
                <!-- Title & Subtitle -->
                <h3 class="text-2xl font-bold mb-2 group-hover:text-neural transition-colors duration-300">{project.title}</h3>
                <p class="text-sm text-muted font-mono mb-4">{project.subtitle}</p>
                
                <!-- Tags -->
                <div class="flex flex-wrap gap-2 mb-6">
                  {project.tags.map(tag => (
                    <span class={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-mono border transition-all duration-300 ${
                      tag.color === 'neural' ? 'bg-neural/10 text-neural border-neural/30 hover:bg-neural/20' :
                      tag.color === 'accent' ? 'bg-accent/10 text-accent border-accent/30 hover:bg-accent/20' :
                      'bg-violet/10 text-violet border-violet/30 hover:bg-violet/20'
                    }`}>
                      <span class={`w-1.5 h-1.5 rounded-full ${
                        tag.color === 'neural' ? 'bg-neural' :
                        tag.color === 'accent' ? 'bg-accent' : 'bg-violet'
                      }`}></span>
                      {tag.label}
                    </span>
                  ))}
                </div>
                
                <!-- Description -->
                <p class="text-muted text-sm leading-relaxed mb-6" x-text={`lang === 'es' ? '${project.description.es}' : '${project.description.en}'`}></p>
                
                <!-- Tech Stack Pills -->
                <div class="flex flex-wrap gap-1.5 mb-6">
                  {project.techStack.slice(0, 5).map(tech => (
                    <span class="px-2 py-0.5 bg-dark-surface text-xs text-muted rounded-md border border-white/5 hover:border-neural/30 transition-colors">
                      {tech}
                    </span>
                  ))}
                  {project.techStack.length > 5 && (
                    <span class="px-2 py-0.5 bg-dark-surface text-xs text-neural rounded-md border border-neural/30">
                      +{project.techStack.length - 5}
                    </span>
                  )}
                </div>
                
                <!-- Metrics -->
                <div class="flex justify-between items-center pt-6 border-t border-white/10">
                  <div class="flex gap-6">
                    {project.metrics.slice(0, 3).map(metric => (
                      <div class="text-center">
                        <span class="block text-lg font-bold text-neural">{metric.value}</span>
                        <span class="text-xs text-muted font-mono" x-text={`lang === 'es' ? '${metric.label.es}' : '${metric.label.en}'`}></span>
                      </div>
                    ))}
                  </div>
                  <button class="flex items-center gap-2 text-xs font-mono text-neural group/btn">
                    <span x-text="t('projects.viewMore')"></span>
                    <svg class="w-4 h-4 transition-transform group-hover/btn:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        <!-- Other Projects Grid -->
        <div class="grid md:grid-cols-2 gap-6">
          {projects.filter(p => !p.featured).map((project, i) => (
            <div 
              class={`project-card reveal stagger-${i + 3}`}
              @click={`$dispatch('open-modal', { projectId: '${project.id}' })`}
            >
              <div class="glass-card p-6 rounded-2xl h-full cursor-pointer transition-all duration-500 hover:scale-[1.02] group relative overflow-hidden">
                <!-- Hover gradient -->
                <div class="absolute inset-0 bg-gradient-to-r from-neural/5 to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                
                <!-- Type badge -->
                <div class="absolute top-4 right-4">
                  <span class={`inline-flex items-center gap-1 px-2 py-0.5 text-[10px] font-mono uppercase rounded-full ${
                    project.type === 'enterprise' ? 'bg-accent/20 text-accent' :
                    project.type === 'lab' ? 'bg-violet/20 text-violet' : 'bg-neural/20 text-neural'
                  }`}>
                    {project.type === 'enterprise' ? 'üè¢ Enterprise' : project.type === 'lab' ? 'üß™ Lab' : 'üöÄ Project'}
                  </span>
                </div>
                
                <div class="relative z-10 flex gap-4">
                  <!-- Icon -->
                  <div class="w-12 h-12 bg-dark-surface rounded-xl flex items-center justify-center text-2xl shrink-0 group-hover:scale-110 transition-transform duration-300">
                    {project.icon}
                  </div>
                  
                  <!-- Content -->
                  <div class="flex-1 min-w-0">
                    <h4 class="font-bold mb-1 group-hover:text-neural transition-colors">{project.title}</h4>
                    <p class="text-xs text-muted font-mono mb-3">{project.subtitle}</p>
                    
                    <!-- Tags inline -->
                    <div class="flex flex-wrap gap-1.5">
                      {project.tags.slice(0, 2).map(tag => (
                        <span class={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-mono ${
                          tag.color === 'neural' ? 'bg-neural/10 text-neural' :
                          tag.color === 'accent' ? 'bg-accent/10 text-accent' :
                          'bg-violet/10 text-violet'
                        }`}>
                          <span class={`w-1 h-1 rounded-full ${
                            tag.color === 'neural' ? 'bg-neural' :
                            tag.color === 'accent' ? 'bg-accent' : 'bg-violet'
                          }`}></span>
                          {tag.label}
                        </span>
                      ))}
                    </div>
                  </div>
                </div>
                
                <!-- Tech footer -->
                <div class="relative z-10 flex gap-1.5 mt-4 pt-4 border-t border-white/5">
                  {project.techStack.slice(0, 4).map(tech => (
                    <span class="px-2 py-0.5 bg-dark-surface text-[10px] text-muted rounded border border-white/5">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- ============================================
         üé≠ PROJECT MODAL
         ============================================ -->
    <div 
      x-data="{ open: false, currentProject: null }"
      @open-modal.window="open = true; currentProject = $event.detail.projectId"
      @keydown.escape.window="open = false"
      x-effect="document.body.style.overflow = open ? 'hidden' : ''"
    >
      <!-- Backdrop -->
      <div 
        x-show="open"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 bg-dark/80 backdrop-blur-sm z-50"
        @click="open = false"
      ></div>
      
      <!-- Modal Container -->
      <div 
        x-show="open"
        x-transition:enter="transition ease-out duration-500"
        x-transition:enter-start="opacity-0 scale-95 translate-y-8"
        x-transition:enter-end="opacity-100 scale-100 translate-y-0"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100 scale-100 translate-y-0"
        x-transition:leave-end="opacity-0 scale-95 translate-y-8"
        class="fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none overflow-y-auto"
      >
        <div 
          class="w-full max-w-4xl max-h-[90vh] overflow-y-auto glass-card rounded-3xl pointer-events-auto overscroll-contain" 
          @click.stop
          @wheel.stop
          @touchmove.stop
        >
          <!-- Modal for each project -->
          {projects.map(project => (
            <div x-show={`currentProject === '${project.id}'`} class="p-8 lg:p-12">
              <!-- Close button -->
              <button 
                @click="open = false"
                class="absolute top-6 right-6 w-10 h-10 bg-dark-surface rounded-full flex items-center justify-center text-muted hover:text-neural hover:bg-neural/10 transition-all z-10"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              
              <!-- Header -->
              <div class="flex items-start gap-6 mb-8">
                <div class="w-20 h-20 bg-dark-surface rounded-2xl flex items-center justify-center text-4xl shrink-0">
                  {project.icon}
                </div>
                <div>
                  <div class="flex flex-wrap items-center gap-3 mb-2">
                    <h3 class="text-3xl font-bold">{project.title}</h3>
                    <span class={`px-3 py-1 rounded-full text-xs font-mono uppercase ${
                      project.type === 'thesis' ? 'bg-neural/20 text-neural' :
                      project.type === 'commercial' ? 'bg-accent/20 text-accent' :
                      project.type === 'enterprise' ? 'bg-blue-500/20 text-blue-400' :
                      'bg-violet/20 text-violet'
                    }`}>
                      {project.type === 'thesis' ? 'üéì Thesis' :
                       project.type === 'commercial' ? 'üíº Commercial' :
                       project.type === 'enterprise' ? 'üè¢ Enterprise' : 'üß™ Lab'}
                    </span>
                  </div>
                  <p class="text-muted font-mono text-sm mb-2">{project.subtitle}</p>
                  <p class="text-neural text-sm">{project.role}</p>
                </div>
              </div>
              
              <!-- Tags -->
              <div class="flex flex-wrap gap-2 mb-8">
                {project.tags.map(tag => (
                  <span class={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-mono border ${
                    tag.color === 'neural' ? 'bg-neural/10 text-neural border-neural/30' :
                    tag.color === 'accent' ? 'bg-accent/10 text-accent border-accent/30' :
                    'bg-violet/10 text-violet border-violet/30'
                  }`}>
                    <span class={`w-2 h-2 rounded-full ${
                      tag.color === 'neural' ? 'bg-neural' :
                      tag.color === 'accent' ? 'bg-accent' : 'bg-violet'
                    }`}></span>
                    {tag.label}
                  </span>
                ))}
              </div>
              
              <!-- Description -->
              <div class="mb-8">
                <h4 class="text-lg font-bold mb-4 flex items-center gap-2">
                  <span class="text-neural">‚ñπ</span>
                  <span x-text="t('projects.modal.overview')"></span>
                </h4>
                <p class="text-muted leading-relaxed" x-text={`lang === 'es' ? '${project.description.es}' : '${project.description.en}'`}></p>
              </div>
              
              <!-- Technical Challenges -->
              <div class="mb-8">
                <h4 class="text-lg font-bold mb-6 flex items-center gap-2">
                  <span class="text-neural">‚ñπ</span>
                  <span x-text="t('projects.modal.challenges')"></span>
                </h4>
                <div class="grid gap-4">
                  {project.challenges.map((challenge, idx) => (
                    <div class="glass-card p-6 rounded-2xl border-l-2 border-neural/50 hover:border-neural transition-colors">
                      <h5 class="font-bold text-neural mb-2" x-text={`lang === 'es' ? '${challenge.title.es}' : '${challenge.title.en}'`}></h5>
                      <p class="text-sm text-muted" x-text={`lang === 'es' ? '${challenge.solution.es}' : '${challenge.solution.en}'`}></p>
                    </div>
                  ))}
                </div>
              </div>
              
              <!-- Tech Stack -->
              <div class="mb-8">
                <h4 class="text-lg font-bold mb-4 flex items-center gap-2">
                  <span class="text-neural">‚ñπ</span>
                  <span x-text="t('projects.modal.stack')"></span>
                </h4>
                <div class="flex flex-wrap gap-2">
                  {project.techStack.map(tech => (
                    <span class="px-4 py-2 bg-dark-surface border border-white/10 rounded-xl text-sm font-mono hover:border-neural/50 hover:text-neural transition-all">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
              
              <!-- Metrics -->
              <div class="glass-card p-6 rounded-2xl">
                <h4 class="text-lg font-bold mb-4 flex items-center gap-2">
                  <span class="text-neural">‚ñπ</span>
                  <span x-text="t('projects.modal.metrics')"></span>
                </h4>
                <div class="grid grid-cols-3 gap-4">
                  {project.metrics.map(metric => (
                    <div class="text-center p-4 bg-dark-surface rounded-xl">
                      <span class="block text-2xl font-bold text-neural text-glow mb-1">{metric.value}</span>
                      <span class="text-xs text-muted font-mono uppercase" x-text={`lang === 'es' ? '${metric.label.es}' : '${metric.label.en}'`}></span>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- ============================================
         ÔøΩüõ†Ô∏è SKILLS SECTION
         ============================================ -->
    <section id="skills" class="section py-32 lg:py-40">
      <div class="container">
        <!-- Section Header -->
        <div class="text-center mb-20 reveal">
          <p class="section-subtitle" x-text="t('skills.subtitle')"></p>
          <h2 class="section-title" x-text="t('skills.title')"></h2>
        </div>
        
        <!-- Skills Grid -->
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Frontend -->
          <div class="glass-card p-6 rounded-3xl reveal stagger-1">
            <div class="flex items-center gap-3 mb-5">
              <div class="w-10 h-10 bg-neural/20 rounded-xl flex items-center justify-center text-lg">üíª</div>
              <h3 class="text-lg font-bold" x-text="t('skills.frontend')"></h3>
            </div>
            <div class="flex flex-wrap gap-2">
              {skills.frontend.map(skill => (
                <span class="skill-badge">
                  <span>{skill.icon}</span>
                  <span>{skill.name}</span>
                </span>
              ))}
            </div>
          </div>
          
          <!-- Backend -->
          <div class="glass-card p-6 rounded-3xl reveal stagger-2">
            <div class="flex items-center gap-3 mb-5">
              <div class="w-10 h-10 bg-accent/20 rounded-xl flex items-center justify-center text-lg">‚öôÔ∏è</div>
              <h3 class="text-lg font-bold" x-text="t('skills.backend')"></h3>
            </div>
            <div class="flex flex-wrap gap-2">
              {skills.backend.map(skill => (
                <span class="skill-badge">
                  <span>{skill.icon}</span>
                  <span>{skill.name}</span>
                </span>
              ))}
            </div>
          </div>
          
          <!-- Database & Cloud -->
          <div class="glass-card p-6 rounded-3xl reveal stagger-3">
            <div class="flex items-center gap-3 mb-5">
              <div class="w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center text-lg">üóÑÔ∏è</div>
              <h3 class="text-lg font-bold" x-text="t('skills.database')"></h3>
            </div>
            <div class="flex flex-wrap gap-2">
              {skills.database.map(skill => (
                <span class="skill-badge">
                  <span>{skill.icon}</span>
                  <span>{skill.name}</span>
                </span>
              ))}
              {skills.cloud.map(skill => (
                <span class="skill-badge">
                  <span>{skill.icon}</span>
                  <span>{skill.name}</span>
                </span>
              ))}
            </div>
          </div>
          
          <!-- AI & Architecture -->
          <div class="glass-card p-6 rounded-3xl reveal stagger-4">
            <div class="flex items-center gap-3 mb-5">
              <div class="w-10 h-10 bg-violet/20 rounded-xl flex items-center justify-center text-lg">üß†</div>
              <h3 class="text-lg font-bold" x-text="t('skills.ai')"></h3>
            </div>
            <div class="flex flex-wrap gap-2">
              {skills.ai.map(skill => (
                <span class="skill-badge">
                  <span>{skill.icon}</span>
                  <span>{skill.name}</span>
                </span>
              ))}
            </div>
          </div>
        </div>
        
        <!-- Experience Bar Visualization -->
        <div class="mt-16 max-w-3xl mx-auto reveal stagger-4">
          <div class="glass-card p-8 rounded-3xl">
            <h4 class="text-lg font-bold mb-6 text-center">Proficiency Levels</h4>
            <div class="space-y-4">
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">JavaScript</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="95%"></div>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">TypeScript</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="92%"></div>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">Angular</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="90%"></div>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">React/Next.js</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="88%"></div>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">Node.js</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="88%"></div>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <span class="w-24 text-sm text-muted">PHP/Laravel</span>
                <div class="flex-1 h-2 bg-dark-surface rounded-full overflow-hidden">
                  <div class="skill-bar h-full bg-gradient-to-r from-neural to-accent rounded-full" data-width="80%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================================
         üì¨ CONTACT SECTION
         ============================================ -->
    <section id="contact" class="section py-32 lg:py-40 bg-dark-elevated">
      <div class="container max-w-6xl">
        <!-- Section Header -->
        <div class="text-center mb-16 reveal">
          <p class="section-subtitle" x-text="t('contact.subtitle')"></p>
          <h2 class="section-title text-5xl lg:text-6xl" x-text="t('contact.title')"></h2>
          <p class="text-xl text-muted mt-6 max-w-xl mx-auto" x-text="t('contact.cta')"></p>
        </div>
        
        <!-- Contact Cards Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {socialLinks.map((link, i) => (
            <a 
              href={link.href}
              target={link.href.startsWith('http') ? '_blank' : undefined}
              rel={link.href.startsWith('http') ? 'noopener noreferrer' : undefined}
              class={`reveal stagger-${i + 1} group`}
            >
              <div class="glass-card glass-card-glow p-8 rounded-3xl h-full transition-all duration-500 hover:scale-105">
                <div class="mb-6 text-neural group-hover:scale-110 transition-transform">
                  {link.icon === 'email' && (
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  )}
                  {link.icon === 'phone' && (
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  )}
                  {link.icon === 'linkedin' && (
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                    </svg>
                  )}
                  {link.icon === 'github' && (
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.041-1.416-4.041-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.381 1.235-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                  )}
                </div>
                <p class="text-xs font-mono text-muted uppercase tracking-wider mb-2">{link.name}</p>
                <p class="font-semibold text-sm truncate group-hover:text-neural transition-colors">{link.label}</p>
              </div>
            </a>
          ))}
        </div>
        
        <!-- Large CTA -->
        <div class="mt-20 text-center reveal">
          <a 
            href="mailto:fransayago04@gmail.com" 
            class="inline-flex items-center gap-3 text-4xl lg:text-6xl font-bold text-gradient gradient-aurora gradient-animate hover:scale-105 transition-transform"
          >
            <span>Let's Connect</span>
            <svg class="w-12 h-12 text-neural" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- ============================================
         ü¶∂ FOOTER
         ============================================ -->
    <footer class="py-12 border-t border-white/5">
      <div class="container text-center">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
          <p class="font-mono text-xs text-muted">
            ¬© 2026 FRAN SAYAGO | BUILT WITH <span class="text-neural">‚ô•</span> & NEURAL ARCHITECTURE
          </p>
          <div class="flex items-center gap-4">
            <a href="https://github.com/Fransaya" target="_blank" rel="noopener noreferrer" class="text-muted hover:text-neural transition-colors">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.041-1.416-4.041-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.381 1.235-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            </a>
            <a href="https://linkedin.com/in/francisco-sayago" target="_blank" rel="noopener noreferrer" class="text-muted hover:text-neural transition-colors">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            </a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <!-- ============================================
       üé¨ INITIALIZATION SCRIPT
       ============================================ -->
  <script>
    // Wait for DOM and libs to be ready
    document.addEventListener('DOMContentLoaded', () => {
      // Wait for page loaded event
      document.addEventListener('pageLoaded', initializeEffects);
      
      // Fallback if loader already completed
      setTimeout(() => {
        if (!document.querySelector('.loader.loaded')) return;
        initializeEffects();
      }, 1000);
    });
    
    function initializeEffects() {
      initThreeJS();
      initSkillBars();
      initMagneticButtons();
    }
    
    // ============================================
    // üåê THREE.JS HERO BACKGROUND
    // ============================================
    function initThreeJS() {
      const canvas = document.getElementById('hero-canvas');
      if (!canvas || !window.THREE) return;
      
      const THREE = window.THREE;
      
      // Scene setup
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ 
        canvas, 
        antialias: true, 
        alpha: true,
        powerPreference: 'high-performance'
      });
      
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      
      // Create dynamic grid
      const gridSize = 50;
      const gridDivisions = 50;
      const geometry = new THREE.PlaneGeometry(gridSize, gridSize, gridDivisions, gridDivisions);
      
      // Custom shader material for better visuals
      const material = new THREE.ShaderMaterial({
        uniforms: {
          uTime: { value: 0 },
          uMouse: { value: new THREE.Vector2(0.5, 0.5) },
          uColor1: { value: new THREE.Color(0x10b981) },
          uColor2: { value: new THREE.Color(0x06b6d4) },
        },
        vertexShader: `
          uniform float uTime;
          uniform vec2 uMouse;
          varying vec2 vUv;
          varying float vElevation;
          
          void main() {
            vUv = uv;
            
            vec3 pos = position;
            
            // Wave animation
            float wave1 = sin(pos.x * 0.3 + uTime * 0.5) * 0.5;
            float wave2 = sin(pos.y * 0.3 + uTime * 0.3) * 0.5;
            float wave3 = sin((pos.x + pos.y) * 0.2 + uTime * 0.4) * 0.3;
            
            pos.z = wave1 + wave2 + wave3;
            
            // Mouse influence
            float mouseDistance = distance(uv, uMouse);
            pos.z += smoothstep(0.5, 0.0, mouseDistance) * 2.0;
            
            vElevation = pos.z;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
          }
        `,
        fragmentShader: `
          uniform vec3 uColor1;
          uniform vec3 uColor2;
          uniform float uTime;
          varying vec2 vUv;
          varying float vElevation;
          
          void main() {
            // Grid pattern
            vec2 grid = abs(fract(vUv * 25.0 - 0.5) - 0.5) / fwidth(vUv * 25.0);
            float line = min(grid.x, grid.y);
            float gridPattern = 1.0 - min(line, 1.0);
            
            // Color based on elevation
            vec3 color = mix(uColor1, uColor2, vElevation * 0.5 + 0.5);
            
            // Apply grid with glow effect
            float alpha = gridPattern * 0.4 * (1.0 - smoothstep(0.0, 0.8, length(vUv - 0.5)));
            
            gl_FragColor = vec4(color, alpha);
          }
        `,
        transparent: true,
        side: THREE.DoubleSide,
        blending: THREE.AdditiveBlending,
      });
      
      const mesh = new THREE.Mesh(geometry, material);
      mesh.rotation.x = -Math.PI / 2.5;
      mesh.position.y = -5;
      scene.add(mesh);
      
      // Particles
      const particleCount = 500;
      const particleGeometry = new THREE.BufferGeometry();
      const positions = new Float32Array(particleCount * 3);
      const colors = new Float32Array(particleCount * 3);
      
      for (let i = 0; i < particleCount; i++) {
        positions[i * 3] = (Math.random() - 0.5) * 40;
        positions[i * 3 + 1] = (Math.random() - 0.5) * 40;
        positions[i * 3 + 2] = (Math.random() - 0.5) * 40;
        
        const color = new THREE.Color();
        color.setHSL(0.42 + Math.random() * 0.1, 0.8, 0.5 + Math.random() * 0.3);
        colors[i * 3] = color.r;
        colors[i * 3 + 1] = color.g;
        colors[i * 3 + 2] = color.b;
      }
      
      particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
      particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
      
      const particleMaterial = new THREE.PointsMaterial({
        size: 0.1,
        vertexColors: true,
        transparent: true,
        opacity: 0.6,
        blending: THREE.AdditiveBlending,
      });
      
      const particles = new THREE.Points(particleGeometry, particleMaterial);
      scene.add(particles);
      
      camera.position.z = 20;
      camera.position.y = 5;
      
      // Mouse tracking
      let mouseX = 0.5, mouseY = 0.5;
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX / window.innerWidth;
        mouseY = e.clientY / window.innerHeight;
      });
      
      // Animation loop
      let time = 0;
      function animate() {
        requestAnimationFrame(animate);
        time += 0.01;
        
        material.uniforms.uTime.value = time;
        material.uniforms.uMouse.value.set(mouseX, 1 - mouseY);
        
        // Subtle camera movement
        camera.position.x += (mouseX * 4 - 2 - camera.position.x) * 0.02;
        camera.position.y += ((1 - mouseY) * 4 + 3 - camera.position.y) * 0.02;
        camera.lookAt(0, 0, 0);
        
        // Rotate particles
        particles.rotation.y = time * 0.05;
        particles.rotation.x = Math.sin(time * 0.1) * 0.1;
        
        renderer.render(scene, camera);
      }
      
      animate();
      
      // Resize handler
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }
    
    // ============================================
    // üìä SKILL BARS ANIMATION
    // ============================================
    function initSkillBars() {
      const skillBars = document.querySelectorAll('.skill-bar');
      
      skillBars.forEach(bar => {
        const targetWidth = bar.dataset.width;
        
        if (window.ScrollTrigger) {
          window.ScrollTrigger.create({
            trigger: bar,
            start: 'top 90%',
            onEnter: () => {
              bar.style.width = targetWidth;
              bar.style.transition = 'width 1.5s cubic-bezier(0.16, 1, 0.3, 1)';
            },
            once: true
          });
        }
      });
    }
    
    // ============================================
    // üß≤ MAGNETIC BUTTONS
    // ============================================
    function initMagneticButtons() {
      const buttons = document.querySelectorAll('.magnetic-btn');
      
      buttons.forEach(btn => {
        btn.addEventListener('mousemove', (e) => {
          const rect = btn.getBoundingClientRect();
          const x = e.clientX - rect.left - rect.width / 2;
          const y = e.clientY - rect.top - rect.height / 2;
          
          btn.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
        });
        
        btn.addEventListener('mouseleave', () => {
          btn.style.transform = 'translate(0, 0)';
          btn.style.transition = 'transform 0.4s cubic-bezier(0.16, 1, 0.3, 1)';
        });
        
        btn.addEventListener('mouseenter', () => {
          btn.style.transition = 'none';
        });
      });
    }
  </script>
  
  <!-- Alpine.js Data Component -->
  <script is:inline>
    document.addEventListener('alpine:init', () => {
      Alpine.data('portfolio', () => ({
        lang: 'es',
        menuOpen: false,
        activeSection: 'hero',
        translations: {
          es: {
            nav: { about: 'Sobre m√≠', exp: 'Experiencia', projects: 'Proyectos', skills: 'Tech Stack', contact: 'Contacto' },
            hero: { 
              greeting: 'Hola, soy',
              role: 'Full Stack Developer & AI Integration Specialist',
              cta1: 'Conectar', 
              cta2: 'Ver Experiencia',
              scroll: 'Scroll para explorar'
            },
            about: { 
              title: '¬øQui√©n soy?',
              subtitle: 'Construyendo el futuro digital',
              intro: 'Desarrollador Full Stack y Analista de Sistemas en formaci√≥n. Experto en modernizar sistemas cr√≠ticos e integrar Agentes de IA en flujos de trabajo reales.',
              point1: {
                title: 'Experiencia',
                desc: '+2 a√±os liderando migraciones y optimizando performance en sistemas de alto tr√°fico.'
              },
              point2: {
                title: 'Enfoque Actual',
                desc: 'Arquitecturas multi-tenant, seguridad a nivel de datos (RLS) y automatizaci√≥n omnicanal.'
              },
              point3: {
                title: 'Misi√≥n',
                desc: 'Cerrar la brecha entre el software tradicional y la potencia de la Inteligencia Artificial.'
              },
              stat1: { value: '+3k', label: 'Req/Hora' },
              stat2: { value: 'RLS', label: 'Seguridad' },
              stat3: { value: '2+', label: 'A√±os Exp.' },
              location: 'Villa Mar√≠a, C√≥rdoba'
            },
            exp: {
              title: 'Experiencia',
              subtitle: 'Trayectoria profesional',
              roles: [
                {
                  title: 'Full Stack Developer',
                  company: 'Maser Inform√°tica',
                  period: 'Oct 2023 ‚Äì Jun 2025',
                  current: false,
                  achievements: [
                    'Optimizaci√≥n de Sistemas Cr√≠ticos: Refactoric√© la arquitectura de endpoints en PHP y Node.js, estabilizando el sistema para soportar picos de carga superiores a 3,000 solicitudes por hora.',
                    'Liderazgo T√©cnico en Migraciones: Dirig√≠ la migraci√≥n estrat√©gica de aplicaciones monol√≠ticas de Angular v9 a v16, reduciendo la deuda t√©cnica.',
                    'Fintech & Pagos: Desarroll√© e integr√© de extremo a extremo pasarelas de pago con MercadoPago, gestionando flujos transaccionales seguros y arquitectura de webhooks.',
                    'Calidad de C√≥digo: Defin√≠ stacks tecnol√≥gicos para nuevos m√≥dulos y lider√© procesos de Code Review, asegurando el cumplimiento de principios SOLID.'
                  ]
                },
                {
                  title: 'Full Stack Developer & AI Consultant',
                  company: 'Sayasoft',
                  period: 'Ene 2024 ‚Äì Nov 2025',
                  current: false,
                  achievements: [
                    'E-commerce de Alto Rendimiento: Dise√±√© y desplegu√© una plataforma integral utilizando Next.js y TailwindCSS, logrando una experiencia de usuario fluida y optimizada para SEO.',
                    'Arquitectura Serverless: Implement√© Supabase para la gesti√≥n de autenticaci√≥n, almacenamiento de assets y bases de datos en tiempo real.',
                    'Automatizaci√≥n con IA: Desarroll√© un agente inteligente basado en la API de ChatGPT (LLM) para el procesamiento de lenguaje natural, automatizando el registro de gastos y generaci√≥n de contenido (-30% tiempos operativos).'
                  ]
                }
              ]
            },
            projects: {
              title: 'Proyectos',
              subtitle: 'Portfolio t√©cnico',
              description: 'Proyectos que demuestran arquitectura avanzada, integraci√≥n de IA y soluciones escalables.',
              viewMore: 'Ver detalles',
              modal: {
                overview: 'Visi√≥n General',
                challenges: 'Desaf√≠os T√©cnicos & Soluciones',
                stack: 'Stack Tecnol√≥gico',
                metrics: 'M√©tricas Clave'
              }
            },
            skills: {
              title: 'Tech Stack',
              subtitle: 'Tecnolog√≠as que domino',
              frontend: 'Frontend',
              backend: 'Backend',
              database: 'Database & Cloud',
              ai: 'IA & Arquitectura'
            },
            contact: { 
              title: 'Neural Hub',
              subtitle: 'Canales de Comunicaci√≥n',
              cta: 'Iniciemos un proyecto juntos'
            }
          },
          en: {
            nav: { about: 'About', exp: 'Experience', projects: 'Projects', skills: 'Tech Stack', contact: 'Contact' },
            hero: { 
              greeting: 'Hi, I am',
              role: 'Full Stack Developer & AI Integration Specialist',
              cta1: 'Connect', 
              cta2: 'View Experience',
              scroll: 'Scroll to explore'
            },
            about: { 
              title: 'Who am I?',
              subtitle: 'Building the digital future',
              intro: 'Full Stack Developer & Systems Analyst in training. Expert in modernizing critical systems and integrating AI Agents into real-world workflows.',
              point1: {
                title: 'Experience',
                desc: '+2 years leading migrations and optimizing performance in high-traffic systems.'
              },
              point2: {
                title: 'Current Focus',
                desc: 'Multi-tenant architectures, data-level security (RLS), and omnichannel automation.'
              },
              point3: {
                title: 'Mission',
                desc: 'Bridging the gap between traditional software and the power of Artificial Intelligence.'
              },
              stat1: { value: '+3k', label: 'Req/Hour' },
              stat2: { value: 'RLS', label: 'Security' },
              stat3: { value: '2+', label: 'Years Exp.' },
              location: 'Villa Maria, Cordoba'
            },
            exp: {
              title: 'Experience',
              subtitle: 'Professional journey',
              roles: [
                {
                  title: 'Full Stack Developer',
                  company: 'Maser Inform√°tica',
                  period: 'Oct 2023 ‚Äì Jun 2025',
                  current: false,
                  achievements: [
                    'Critical Systems Optimization: Refactored endpoint architecture in PHP and Node.js, stabilizing the system to handle load peaks over 3,000 requests per hour.',
                    'Technical Leadership in Migrations: Led strategic migration of monolithic applications from Angular v9 to v16, reducing technical debt.',
                    'Fintech & Payments: Developed and integrated end-to-end payment gateways with MercadoPago, managing secure transactional flows and webhook architecture.',
                    'Code Quality: Defined technology stacks for new modules and led Code Review processes, ensuring SOLID principles compliance.'
                  ]
                },
                {
                  title: 'Full Stack Developer & AI Consultant',
                  company: 'Sayasoft',
                  period: 'Jan 2024 ‚Äì Nov 2025',
                  current: false,
                  achievements: [
                    'High-Performance E-commerce: Designed and deployed a comprehensive platform using Next.js and TailwindCSS, achieving a smooth and SEO-optimized user experience.',
                    'Serverless Architecture: Implemented Supabase for authentication management, asset storage, and real-time databases.',
                    'AI Automation: Developed an intelligent agent based on ChatGPT API (LLM) for natural language processing, automating expense tracking and content generation (-30% operational time).'
                  ]
                }
              ]
            },
            projects: {
              title: 'Projects',
              subtitle: 'Technical portfolio',
              description: 'Projects showcasing advanced architecture, AI integration, and scalable solutions.',
              viewMore: 'View details',
              modal: {
                overview: 'Overview',
                challenges: 'Technical Challenges & Solutions',
                stack: 'Tech Stack',
                metrics: 'Key Metrics'
              }
            },
            skills: {
              title: 'Tech Stack',
              subtitle: 'Technologies I master',
              frontend: 'Frontend',
              backend: 'Backend',
              database: 'Database & Cloud',
              ai: 'AI & Architecture'
            },
            contact: { 
              title: 'Neural Hub',
              subtitle: 'Communication Channels',
              cta: "Let's start a project together"
            }
          }
        },
        
        t(path) {
          return path.split('.').reduce((o, i) => (o ? o[i] : path), this.translations[this.lang]) || path;
        },
        
        init() {
          // Set initial active section based on scroll
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                this.activeSection = entry.target.id;
              }
            });
          }, { threshold: 0.3 });
          
          document.querySelectorAll('section[id]').forEach(section => observer.observe(section));
        }
      }));
    });
  </script>
  
  <!-- Alpine.js CDN -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</Layout>
